<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SonicBoom Game Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <script>
            // Custom Tailwind CSS configuration
            tailwind.config = {
                theme: {
                    extend: {
                        fontFamily: {
                            sans: ['Inter', 'sans-serif'],
                        },
                        colors: {
                            'dark': '#121212',
                            'card-bg': '#1A1A1A',
                            'input-bg': '#2C2C2C',
                            'border-color': '#333333',
                            'text-light': '#F5F5F5',
                            'text-medium': '#A9A9A9',
                            'primary-blue': '#4B4DFF',
                            'primary-blue-hover': '#6A6BFF',
                        }
                    }
                }
            }
        </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #121212;
            color: #E0E0E0;
            box-sizing: border-box;
        }
        #main-container{
            box-sizing: border-box;
        }

        #brand-logo{
            width: 150px;
        }
        .my-swal-border {
            border: 1px solid #404044 !important;
            /* Change color and thickness */
            border-radius: 15px !important;
        }

        .hide-scrollbar::-webkit-scrollbar {
            width: 0.5em; /* You can adjust this to your liking */
            display: none; /* This is the key line to hide the scrollbar */
        }

        /* For Firefox */
        .hide-scrollbar {
            scrollbar-width: none; /* This is the key line for Firefox */
        }

        @media (max-width: 480px) {
            #brand-logo{
                width: 120px;
            }
            
        }
    </style>
</head>
<body class="bg-[#121212]">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Header -->
    <header class="bg-[#1E1E1E] md:sticky top-0 z-50" style="z-index: 9999;">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl text-white"><img src="/images/brand-logo.png" alt="SonicBoom" id="brand-logo"></span>
                </div>
                <div class="flex">

                    <div class="hidden md:flex items-center space-x-4">
                        <a href="/user/landing_page" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Home</a>
                        <a href="/user/shop" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Shop</a>
                        <a href="/user/account" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Account</a>
                        <a href="/user/cart" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Cart</a>
                        <a href="/user/wishlist" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Wishlist</a>
                    </div>
                    <div class="flex items-center space-x-2">
                         <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-1.5 rounded-md text-sm font-medium">Sign In</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="mx-auto px-4 sm:px-6 lg:px-8 max-w-full xl:max-w-screen-xl py-8 pb-24" id="main-container">
        <div class="container mx-auto mb:px-4 flex flex-col lg:flex-row gap-8">
                <!-- Sidebar -->
                <aside class="w-full lg:w-72 flex-shrink-0">
                    <div class="bg-card-bg border border-border-color rounded-xl p-6 sticky top-24 ">
                        <div class="hidden lg:flex items-center gap-4 pb-6 border-b border-border-color" id="sidebar-profile">
                            <img src="https://res.cloudinary.com/dnmpesolv/image/upload/v1755940464/profile-placeholder_fnbhjm.png" id="profile" alt="Angel Johana" class="w-12 h-12 rounded-full object-cover" >
                            <span class="font-semibold text-lg" id="userName"></span>
                        </div>
                        <nav class="mt-0 lg:mt-6">
                            <ul class="flex flex-row lg:flex-col gap-2 overflow-x-auto lg:overflow-visible pb-4 lg:pb-0 -mb-4 lg:mb-0 hide-scrollbar">
                                <li>
                                    <a href="/user/account" class="flex items-center gap-4 p-3 rounded-lg bg-input-bg text-text-light whitespace-nowrap">
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                                        Account
                                    </a>
                                </li>
                                <li>
                                    <a href="/user/orders" class="flex items-center gap-4 p-3 rounded-lg hover:bg-input-bg text-text-medium hover:text-text-light transition-colors whitespace-nowrap">
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
                                        My Orders
                                    </a>
                                </li>
                                <li>
                                    <a href="/user/manage-address" class="flex items-center gap-4 p-3 rounded-lg hover:bg-input-bg text-text-medium hover:text-text-light transition-colors whitespace-nowrap">
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9"></path><path d="M9 22V12h6v10M2 10.6L12 2l10 8.6"></path></svg>
                                        Manage Addresses
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center gap-4 p-3 rounded-lg hover:bg-input-bg text-text-medium hover:text-text-light transition-colors whitespace-nowrap">
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"></path><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"></path><path d="M18 12a2 2 0 0 0 0 4h4v-4h-4z"></path></svg>
                                        Wallet
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center gap-4 p-3 rounded-lg hover:bg-input-bg text-text-medium hover:text-text-light transition-colors whitespace-nowrap">
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>
                                        Coupon
                                    </a>
                                </li>
                                {{!-- <li>
                                    <a href="#" class="flex items-center gap-4 p-3 rounded-lg hover:bg-input-bg text-text-medium hover:text-text-light transition-colors whitespace-nowrap">
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                        Logout
                                    </a>
                                </li> --}}
                            </ul>
                        </nav>
                    </div>
                </aside>

             {{{body}}}

            </div>

      

    </main>

    <!-- Footer -->
    <footer class="hidden md:flex bg-[#1E1E1E] border-t border-gray-800 pb-16 md:pb-0">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="font-bold text-lg text-white mb-2">SonicBoom</h3>
                     <div class="flex space-x-4 mt-4">
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg></a>
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" /></svg></a>
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.345 2.525c.636-.247 1.363-.416 2.427-.465C9.793 2.013 10.147 2 12.315 2zm-2.013 6.867c-.22.22-.435.484-.626.784a6.66 6.66 0 00-.784 1.258 6.744 6.744 0 000 2.182 6.66 6.66 0 00.784 1.258 6.71 6.71 0 001.41 1.41c.473.315.995.539 1.55.675.617.149 1.265.149 1.882 0 .556-.136 1.077-.36 1.55-.675.473-.315.898-.707 1.258-1.153.36-.446.626-.95.784-1.498a6.744 6.744 0 000-2.182 6.66 6.66 0 00-.784-1.258 6.71 6.71 0 00-1.41-1.41 6.66 6.66 0 00-1.258-.784 6.744 6.744 0 00-2.182 0 6.66 6.66 0 00-1.258.784zm-3.66 1.41a2.714 2.714 0 115.428 0 2.714 2.714 0 01-5.428 0z" clip-rule="evenodd" /></svg></a>
                    </div>
                </div>
                <div>
                    <h3 class="font-semibold text-white mb-4">Support</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Contact Us</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">FAQ</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Help</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-white mb-4">Account</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Login / Register</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">My Account</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Order History</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-white mb-4">Quick links</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Terms of use</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Privacy policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Blog</a></li>
                    </ul>
                </div>
            </div>
            <div class="mt-8 border-t border-gray-800 pt-4 text-center text-gray-500 text-sm">
                &copy; 2024 SonicBoom. All Rights Reserved.
            </div>
        </div>
    </footer>

    <!-- Bottom Navigation -->
    <nav class="md:hidden fixed bottom-0 left-0 right-0 bg-[#1E1E1E] border-t border-gray-800 z-50">
        <div class="flex justify-around items-center h-16">
            <a href="/user/landing_page" class="flex flex-col items-center text-gray-300 hover:text-white w-full py-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                <span class="text-xs">Home</span>
            </a>
            <a href="/user/shop" class="flex flex-col items-center text-gray-300 hover:text-white w-full py-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                </svg>
                <span class="text-xs">Shop</span>
            </a>
            <a href="/user/cart" class="flex flex-col items-center text-gray-300 hover:text-white w-full py-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                <span class="text-xs">Cart</span>
            </a>
            <a href="/user/wishlist" class="flex flex-col items-center text-gray-300 hover:text-white w-full py-2">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                </svg>
                <span class="text-xs">Wishlist</span>
            </a>
             <a href="/user/account" class="flex flex-col items-center text-gray-300 hover:text-white w-full py-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                <span class="text-xs">Account</span>
            </a>
        </div>
    </nav>

</body>
</html>

<script>
    document.addEventListener('DOMContentLoaded', ()=>{
        const userName = document.getElementById('userName')
        const profile = document.getElementById('profile')
        fetch('/user/account/profile/info')
            .then(response => {
                if(!response.ok) throw new Error("Error fetching info")
                return response.json()
            })
            .then(data => {

                if (userName && data.name) {
                    userName.innerHTML = data.name;
                }

                if (data.profilePhoto) {
                    const tempImage = new Image();
                    tempImage.onload = () => {
                        profile.src = data.profilePhoto;
                    };
                    tempImage.onerror = () => {
                        console.error("Failed to load the new profile photo from URL:", data.profilePhoto);
                    };
                    tempImage.src = data.profilePhoto;
                }
            })
            .catch(error =>{
                console.log("Can't get info from server",error)
            })
    })
    
</script>
