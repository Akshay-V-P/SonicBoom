<div class="w-full lg:w-4/5">
    <h2 class="text-3xl font-bold text-text-light mb-6">My Orders</h2>
    <div class="space-y-6" id="order-container"> 
        <div class="bg-card-bg border border-border-color rounded-xl p-4 sm:p-6 flex flex-col md:flex-row items-center gap-4">
            {{!-- <div class="aspect-[3/4] rounded-lg overflow-hidden w-24">
                <img src="https://res.cloudinary.com/dnmpesolv/image/upload/v1724584488/FNAF_TheMimic_x1_h4z1l7.png" alt="Five Nights at Freddy's: Secret Of The Mimic" class="w-full h-full rounded-lg object-cover">
            </div> --}}
            <div class="flex-grow w-full md:w-auto">
                <div class="flex justify-between items-start mb-2">
                    <div class="flex-grow">
                        <span class="text-sm text-text-medium bg-input-bg rounded-full px-3 py-1 font-medium">Base Game</span>
                        <h3 class="text-xl sm:text-2xl font-semibold text-text-light mt-2">Five Nights at Freddy's : Secret Of The Mimic</h3>
                        <p class="text-sm text-text-medium mt-1">
                            <span class="font-medium">Seller:</span> Mimic Games
                            <span class="ml-4 font-medium">Order Date:</span> 18/04/2025
                        </p>
                    </div>
                    <span class="text-sm font-semibold text-yellow-500 bg-yellow-900/20 rounded-full px-3 py-1 ml-4">Processing</span>
                </div>
                <div class="flex items-center justify-between mt-4">
                    <p class="text-2xl font-bold">
                        ₹2349
                    </p>
                    <div class="flex space-x-2 text-sm font-medium">
                        <button class="text-text-medium hover:text-red-500 transition-colors p-2 rounded-lg">
                            <span class="">Cancel</span>
                        </button>
                        <a href="#" class="text-text-medium hover:text-text-light transition-colors p-2 rounded-lg">
                            <span class="">Invoice</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-card-bg border border-border-color rounded-xl p-4 sm:p-6 flex flex-col md:flex-row items-center gap-4">
            {{!-- <div class="aspect-[3/4] rounded-lg overflow-hidden w-24">
                <img src="https://res.cloudinary.com/dnmpesolv/image/upload/v1724584488/FNAF_TheMimic_x1_h4z1l7.png" alt="Five Nights at Freddy's: Secret Of The Mimic" class="w-full h-full rounded-lg object-cover">
            </div> --}}
            <div class="flex-grow w-full md:w-auto">
                <div class="flex justify-between items-start mb-2">
                    <div class="flex-grow">
                        <span class="text-sm text-text-medium bg-input-bg rounded-full px-3 py-1 font-medium">Base Game</span>
                        <h3 class="text-xl sm:text-2xl font-semibold text-text-light mt-2">Five Nights at Freddy's : Secret Of The Mimic</h3>
                        <p class="text-sm text-text-medium mt-1">
                            <span class="font-medium">Seller:</span> Mimic Games
                            <span class="ml-4 font-medium">Order Date:</span> 18/04/2025
                        </p>
                    </div>
                    <span class="text-sm font-semibold text-green-500 bg-green-900/20 rounded-full px-3 py-1 ml-4">Deliverd</span>
                </div>
                <div class="flex items-center justify-between mt-4">
                    <p class="text-2xl font-bold">
                        ₹2349
                    </p>
                    <div class="flex space-x-2 text-sm font-medium">
                        <button class="text-text-medium hover:text-red-500 transition-colors p-2 rounded-lg">
                            <span class="">Return</span>
                        </button>
                        <a href="#" class="text-text-medium hover:text-text-light transition-colors p-2 rounded-lg">
                            <span class="">Invoice</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-card-bg border border-border-color rounded-xl p-4 sm:p-6 flex flex-col md:flex-row items-center gap-4 opacity-50">
            {{!-- <div class="flex-shrink-0 w-full md:w-40">
                <img src="https://res.cloudinary.com/dnmpesolv/image/upload/v1724584488/FNAF_TheMimic_x1_h4z1l7.png" alt="Five Nights at Freddy's: Secret Of The Mimic" class="w-full h-auto rounded-lg object-cover">
            </div> --}}
            <div class="flex-grow w-full md:w-auto">
                <div class="flex justify-between items-start mb-2">
                    <div class="flex-grow">
                        <span class="text-sm text-text-medium bg-input-bg rounded-full px-3 py-1 font-medium">Base Game</span>
                        <h3 class="text-xl sm:text-2xl font-semibold text-text-light mt-2">Five Nights at Freddy's : Secret Of The Mimic</h3>
                        <p class="text-sm text-text-medium mt-1">
                            <span class="font-medium">Seller:</span> Mimic Games
                            <span class="ml-4 font-medium">Order Date:</span> 18/04/2025
                        </p>
                    </div>
                    <span class="text-sm font-semibold text-red-500 bg-red-900/20 rounded-full px-3 py-1 ml-4">Cancelled</span>
                </div>
                <div class="flex items-center justify-between mt-4">
                    <p class="text-2xl font-bold">
                        ₹2349
                    </p>
                    <div class="flex space-x-2 text-sm font-medium">
                        <a href="#" class="text-text-medium hover:text-text-light transition-colors p-2 rounded-lg">
                            <span class="md:hidden">Invoice</span>
                            <svg class="w-5 h-5 hidden md:inline-block" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><line x1="10" y1="9" x2="8" y2="9"></line></svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    document.addEventListener("DOMContentLoaded",()=>{
        fetch('/user/orders/details')
            .then(response =>{
                if(!response.ok) throw new Error("Cant fetch")
                return response.json()
            })
            .then(data => {
                const orderContainer = document.getElementById("order-container")
                let html = ''
                data.forEach(product => {
                    html = `
                    <div class="bg-card-bg border border-border-color rounded-xl p-4 sm:p-6 flex flex-col md:flex-row items-center gap-4">
                        <div class="aspect-[3/4] rounded-lg overflow-hidden w-24">
                            <img src="${product.thumbnail}" alt="${product.name}" class="w-full h-full rounded-lg object-cover">
                        </div>
                        <div class="flex-grow w-full md:w-auto">
                            <div class="flex justify-between items-start mb-2">
                                <div class="flex-grow">
                                    <span class="text-sm text-text-medium bg-input-bg rounded-full px-3 py-1 font-medium">Base Game</span>
                                    <h3 class="text-xl sm:text-2xl font-semibold text-text-light mt-2">Five Nights at Freddy's : Secret Of The Mimic</h3>
                                    <p class="text-sm text-text-medium mt-1">
                                        <span class="font-medium">Seller:</span> Mimic Games
                                        <span class="ml-4 font-medium">Order Date:</span> 18/04/2025
                                    </p>
                                </div>
                                <span class="text-sm font-semibold text-yellow-500 bg-yellow-900/20 rounded-full px-3 py-1 ml-4">Processing</span>
                            </div>
                            <div class="flex items-center justify-between mt-4">
                                <p class="text-2xl font-bold">
                                    ₹2349
                                </p>
                                <div class="flex space-x-2 text-sm font-medium">
                                    <button class="text-text-medium hover:text-red-500 transition-colors p-2 rounded-lg">
                                        <span class="">Cancel</span>
                                    </button>
                                    <a href="#" class="text-text-medium hover:text-text-light transition-colors p-2 rounded-lg">
                                        <span class="">Invoice</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    `
                })

                orderContainer.innerHTML = html


            })
            .catch(error => {
                console.log(error)
            })
    })
</script>